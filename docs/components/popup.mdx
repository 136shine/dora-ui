---
name: Popup 弹层
menu: Components
---

import { Playground } from 'docz';
import { Popup, Toggler } from 'components';
import '../style/index.less';

# Popup 弹层

底层弹层组件，Portal 组件的上层封装，参考 cube-ui（[基于 Vue.js 实现的精致移动端组件库](https://didi.github.io/cube-ui/#/zh-CN)）API。

可以理解为提供基础功能的传送门：是否有蒙层（mask）以及定位（position），并处理了滚动穿透等问题。

## 示例

### 基本用法

<Playground>
  {() => {
    class App extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          visible: false
        };
        this.open=this.open.bind(this);        
        this.hide=this.hide.bind(this)
      }

      open() {
        this.setState({
          visible: true
        });
      }

      hide() {
        this.setState({
          visible: false
        });
      }

      render() {
        const { visible } = this.state;
        return (
          <div>
            <button onClick={this.open}>popup!</button>
            <Popup
              position="center"
              visible={visible}
              onCancel={this.hide}
            >
              Popup
            </Popup>
          </div>
        );
      }
    }
    return <App />;

}}

</Playground>

### 与 Toggler 一起使用

<Playground>
  <Toggler>
    {([toggled, onToggle]) => {
      return (
        <>
          <button onClick={() => onToggle(true)}>popup!</button>
          <Popup visible={toggled} position="bottom" onCancel={() => onToggle(false)}>
            hhhhhh
          </Popup>
        </>
      );
    }}
  </Toggler>
</Playground>

## API

| 属性                | 说明                       | 类型        | 默认值                                                                                              |
| ------------------- | -------------------------- | ----------- | --------------------------------------------------------------------------------------------------- |
| visible             | 显示状态，是否可见         | Boolean     | false                                                                                               |
| children            | 内容，必传                 | ReactNode   | -                                                                                                   |
| mask                | 是否展示蒙层               | Boolean     | true                                                                                                |
| maskClosable        | 点击蒙层是否隐藏           | Boolean     | true                                                                                                |
| onCancel            | 点击遮罩层的回调           | Function    | ()=>{}                                                                                              |
| node                | 挂载节点                   | HTMLElement | 无，不传时会在 body 尾部下 新建 div 以容纳弹层，存在多个 Popup 时可选择同一个 node 进行单例控制优化 |
| stopScrollUnderMask | 存在蒙层时是否禁止滚动穿透 | Boolean     | true，默认禁止滚动穿透。注：复杂弹层内容时禁止滚动穿透可能存在问题                                  |
